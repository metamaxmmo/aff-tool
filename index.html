<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>AFF TOOL</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f2f2f2;padding:10px}
.post{background:#fff;border-radius:10px;padding:10px;margin-bottom:15px}
h3{margin:0 0 6px;color:#007bff}
button{width:100%;margin:4px 0;padding:8px;font-size:15px;border:none;border-radius:6px}
.img-btn{background:#ff5722;color:#fff}
.copy-btn{background:#28a745;color:#fff}
textarea,input{width:100%;margin-top:6px;padding:6px;font-size:14px}
</style>
</head>

<body>
<div id="app"></div>

<script>
const TOTAL_POST = 50;
const IMG_PER_POST = 5;

function openImg(img){
  location.href = img;
}

function copyText(t){
  navigator.clipboard.writeText(t);
  alert("‚úÖ ƒê√£ copy");
}

const app = document.getElementById('app');

for(let i=1;i<=TOTAL_POST;i++){
  const startImg = (i-1)*IMG_PER_POST + 1;
  const linkKey = 'link_'+i;
  const textKey = 'text_'+i;

  const savedLink = localStorage.getItem(linkKey) || '';
  const savedText = localStorage.getItem(textKey) || '';

  let html = `
  <div class="post">
    <h3>üü¢ B√ÄI ${i}</h3>
  `;

  for(let j=0;j<IMG_PER_POST;j++){
    html += `
      <button class="img-btn" onclick="openImg('${startImg+j}.jpg')">
        ‚¨áÔ∏è ·∫¢NH ${j+1}
      </button>
    `;
  }

  html += `
    <input placeholder="üîó Link aff b√†i ${i}" value="${savedLink}"
      oninput="localStorage.setItem('${linkKey}',this.value)">
    <button class="copy-btn" onclick="copyText(this.previousElementSibling.value)">
      üìã COPY LINK
    </button>

    <textarea rows="3" placeholder="üìù N·ªôi dung b√†i ${i}"
      oninput="localStorage.setItem('${textKey}',this.value)">${savedText}</textarea>
    <button class="copy-btn" onclick="copyText(this.previousElementSibling.value)">
      üìù COPY N·ªòI DUNG
    </button>
  </div>
  `;

  app.insertAdjacentHTML('beforeend', html);
}
</script>
</body>
</html>
